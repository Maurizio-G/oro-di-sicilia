<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Oro di Sicilia ‚Äì Frisches aus Sizilien</title>
 <style>
  header {
    background-image: url('Banner.jpg');
    background-size: cover;
    background-position: center;
    color: white;
    padding: 4rem 2rem;
    text-align: center;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  }

  header h1, header p {
    text-shadow: 1px 1px 3px rgba(0,0,0,0.6);
  }
   
    h1 {
      margin: 0;
      font-size: 2.5rem;
    }

    main {
      max-width: 800px;
      margin: 2rem auto;
      padding: 0 1rem;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }

    section {
      margin-bottom: 2rem;
    }

    h2 {
      color: #b8741b;
      margin-bottom: 0.25rem;
    }

    h3 {
      margin: 0.5rem 0 0.25rem;
      color: #b8741b;
    }

    small em {
      color: #666;
      font-size: 0.9rem;
    }

    footer {
      background: #e3b04b;
      color: white;
      text-align: center;
      padding: 1rem;
      font-size: 0.9rem;
    }

    .product-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1.5rem;
    }

    .product-card {
      background: #fff5e6;
      padding: 1rem;
      border-radius: 10px;
      text-align: center;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }

    .product-card img {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
      margin-bottom: 0.5rem;
    }
  </style>
<!-- CHAT-BUBBLE (kleiner runder Button unten rechts) -->
<div id="chatBubble"
     style="
        position: fixed;
        bottom: 25px;
        right: 25px;
        width: 70px;
        height: 70px;
        background: #ff9900;
        border-radius: 50%;
        box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 32px;
        z-index: 9999;
     "
     onclick="toggleChat()">
    üí¨
</div>

<!-- CHAT-FENSTER (√∂ffnet/schlie√üt sich) -->
<div id="chatWindow"
     style="
        position: fixed;
        bottom: 110px;
        right: 25px;
        width: 350px;
        height: 480px;
        background: white;
        border-radius: 12px;
        box-shadow: 0 5px 18px rgba(0,0,0,0.25);
        display: none;
        flex-direction: column;
        z-index: 9999;
     ">

    <div style="
        background:#ff9900;
        color:white;
        padding:15px;
        border-radius:12px 12px 0 0;
        font-size:18px;
        font-weight:bold;
    ">
        üçä Oro di Sicilia ‚Äì Chat
    </div>

    <div id="messages" style="
        flex:1;
        padding:15px;
        overflow-y:auto;
        font-family:Arial;
    "></div>

    <div style="padding:10px; display:flex; gap:8px;">
        <input id="userInput" 
               type="text" 
               placeholder="Schreib mir eine Frage..."
               style="flex:1; padding:10px; border-radius:8px; border:1px solid #ccc;">
        <button onclick="sendMessage()" 
                style="padding:10px 15px; border:none; background:#ff9900; color:white; border-radius:8px; font-weight:bold; cursor:pointer;">
            ‚û§
        </button>
    </div>
</div>

<script>
/* ------------------------------
   BUBBLE / POPUP LOGIK
------------------------------ */
function toggleChat() {
    const win = document.getElementById("chatWindow");
    win.style.display = win.style.display === "flex" ? "none" : "flex";
}

/* ------------------------------
   KNOWLEDGE BASE
------------------------------ */
const knowledgeBase = {
  saison_orangen: {
    patterns: [
      "wann kommen die orangen", "wann gibt es orangen",
      "ab wann habt ihr orangen", "wann ist orangensaison",
      "wann kann ich orangen bestellen", "wann starten die orangen"
    ],
    answer: "Orangen kommen von Dezember bis M√§rz. Tarocco ab Januar."
  },

  saison_tarocco: {
    patterns: [
      "wann kommen die tarocco", "wann gibt es tarocco",
      "wann ist tarocco saison", "ab wann habt ihr tarocco"
    ],
    answer: "Tarocco-Orangen sind von Januar bis M√§rz verf√ºgbar."
  },

  saison_mandarinen: {
    patterns: ["wann kommen die mandarinen", "wann gibt es mandarinen"],
    answer: "Mandarinen gibt es von November bis Januar."
  },

  saison_zitronen: {
    patterns: ["wann kommen die zitronen", "wann gibt es zitronen"],
    answer: "Zitronen gibt es fast das ganze Jahr. Beste Qualit√§t: Oktober bis Mai."
  },

  avocado: {
    patterns: ["wann kommen die avocados", "wann gibt es avocados"],
    answer: "Sizilianische Avocados gibt es von November bis M√§rz."
  },

  versand: {
    patterns: [
      "wie lange dauert der versand", "wann wird geliefert",
      "wann kommt meine bestellung", "wie schnell liefert ihr"
    ],
    answer: "Lieferzeit: 24‚Äì48h nach Versand. Versandtage: Montag‚ÄìDonnerstag."
  },

  preise: {
    patterns: ["preise", "kosten", "was kostet", "wie teuer"],
    answer: "Wir bieten Boxen von 3‚Äì15 kg an. Preise variieren je nach Saison."
  },

  qualit√§t: {
    patterns: ["quality", "frisch", "bio", "unbehandelt", "woher kommt"],
    answer: "Unsere Fr√ºchte sind unbehandelt & naturbelassen direkt vom Bauernhof."
  },

  kontakt: {
    patterns: ["kontakt", "email", "wie erreiche ich euch"],
    answer: "Kontakt: <b>orodisicilia0@gmail.com</b>"
  }
};

/* ------------------------------
   KI SIMILARITY (Levenshtein)
------------------------------ */
function similarity(a, b) {
  a = a.toLowerCase();
  b = b.toLowerCase();
  const matrix = Array.from({length: b.length+1}, (_, i) => [i]);

  for (let j = 1; j <= a.length; j++) matrix[0][j] = j;

  for (let i = 1; i <= b.length; i++) {
    for (let j = 1; j <= a.length; j++) {
      matrix[i][j] = Math.min(
        matrix[i-1][j] + 1,
        matrix[i][j-1] + 1,
        matrix[i-1][j-1] + (b[i-1] === a[j-1] ? 0 : 1)
      );
    }
  }
  let dist = matrix[b.length][a.length];
  return 1 - dist / Math.max(a.length, b.length);
}

/* ------------------------------
   BOT ANTOWORT FINDEN
------------------------------ */
function getBotReply(input) {
  input = input.toLowerCase();
  let bestScore = 0;
  let bestTopic = null;

  for (let topic in knowledgeBase) {
    for (let pattern of knowledgeBase[topic].patterns) {
      let score = similarity(input, pattern);
      if (score > bestScore) {
        bestScore = score;
        bestTopic = topic;
      }
    }
  }

  if (bestScore > 0.45) return knowledgeBase[bestTopic].answer;
  return "Ich bin mir nicht sicher ‚Äì kannst du die Frage genauer stellen? üòä";
}

/* ------------------------------
   CHAT UI FUNKTIONEN
------------------------------ */
function addMessage(text, type) {
  const box = document.getElementById("messages");
  const msg = document.createElement("div");
  msg.style = `
    margin:10px 0;padding:10px;border-radius:10px;line-height:1.4;
    ${type === "bot" ? "background:#ffe9b3;border:1px solid #ffcc66;" :
                       "background:#e5e5e5;text-align:right;"}
  `;
  msg.innerHTML = text;
  box.appendChild(msg);
  box.scrollTop = box.scrollHeight;
}

function sendMessage() {
  const input = document.getElementById("userInput");
  const text = input.value.trim();
  if (!text) return;

  addMessage(text, "user");
  const reply = getBotReply(text);
  setTimeout(() => addMessage(reply, "bot"), 350);
  input.value = "";
}
</script>

<script>
document.getElementById("odschat").onclick = () => {
  const w = document.getElementById("odswindow");
  w.style.display = w.style.display === "flex" ? "none" : "flex";
};

document.getElementById("odssend").onclick = () => {
  const nome = document.getElementById("odsname").value;
  const email = document.getElementById("odsemail").value;
  const msg = document.getElementById("odsmsg").value;

  const mailto = `mailto:orodisicilia0@gmail.com?subject=Nuovo%20Messaggio%20dal%20Sito&body=Nome:%20${encodeURIComponent(nome)}%0AEmail:%20${encodeURIComponent(email)}%0AMessaggio:%20${encodeURIComponent(msg)}`;

  window.location.href = mailto;
};
</script>
</head>
<body>
  <header>
    <h1>Oro di Sicilia</h1>
    <p>Frisches Obst & Gem√ºse direkt aus Sizilien<br><small><em>Frutta e verdura fresca direttamente dalla Sicilia</em></small></p>
  </header>

  <main>
    <section>
      <h2>Oro di Sicilia ‚Äì Der Geschmack Siziliens</h2>
      <small><em>Il gusto autentico della Sicilia</em></small>
      <p>
        Frisches Obst und Gem√ºse direkt aus Sizilien ‚Äì mit Liebe angebaut, von Hand geerntet und ohne Umwege zu dir gebracht.
        <strong>Oro di Sicilia</strong> ist ein kleines Familienunternehmen mit Wurzeln in Sizilien.
        Wir stehen f√ºr ehrliche, nachhaltige Landwirtschaft und bringen dir den echten Geschmack unserer Heimat direkt nach Hause.
      </p>
    </section>

<section>
  <h2>Unsere Produkte</h2>
  <small><em>I nostri prodotti</em></small>
  <div class="product-grid">
    <div class="product-card"> 
      <h3>Blut-Orangen (Tarocco)</h3>
      <img src="Tarocco" alt="Blut-Orangen (Tarocco)" />
      <p>3,00 ‚Ç¨ / kg</p>
    </div>
    
    <div class="product-card">
      <h3>Navel Orangen</h3>
      <img src="Navel.jpg" alt="Navel Orangen" />
      <p>3,00 ‚Ç¨ / kg</p>
    </div>
    
    <div class="product-card">
      <h3>Vanille Orangen</h3>
      <img src="Vanille.jpg" alt="Vanille Orangen" />
      <p>3,50 ‚Ç¨ / kg</p>
    </div>
    
    <div class="product-card">
      <h3>Orangen Marmelade</h3>
      <img src="Orangen Marmelade.jpg" alt="Orangen Marmelade" />
      <p>3,99 ‚Ç¨</p>
    </div>
    
    <div class="product-card">
      <h3>Zitronen</h3>
      <img src="Zitrone" alt="Zitronen" />
      <p>3,99 ‚Ç¨ / kg</p>
    </div>
    
    <div class="product-card">
      <h3>Clementinen</h3>
      <img src="Clementini" alt="Clementinen" />
      <p>2,99 ‚Ç¨ / kg</p>
    </div>
    
    <div class="product-card">
      <h3>Mandarinen</h3>
      <img src="Mandarinen.jpg" alt="Mandarinen" />
      <p>2,90 ‚Ç¨ / kg</p>
    </div>
    
    <div class="product-card">
      <h3>Ceder</h3>
      <img src="Ceder" alt="Ceder" />
      <p>5,00‚Äì6,00 ‚Ç¨ / St√ºck</p>
    </div>
    
    <div class="product-card">
      <h3>Kaktus feige</h3>
      <img src="Kaktus feige.jpg" alt="Kaktusfeige" />
      <p>2,50 ‚Ç¨ / kg</p>
    </div>
    
    <div class="product-card">
      <h3>Dattel Tomate</h3>
      <img src="Dattel Tomaten.jpg" alt="Dattel Tomate" />
      <p>7,00 ‚Ç¨ / kg</p>
    </div>
    
    <div class="product-card">
      <h3>San Marzano Tomaten</h3>
      <img src="San Marzano (Tomate).jpg" alt="San Marzano Tomaten" />
      <p>5,00 ‚Ç¨ / kg</p>
    </div>
    
    <div class="product-card">
      <h3>Merinda Tomaten</h3>
      <img src="Merinde.jpg" alt="Merinda Tomaten" />
      <p>6,90 ‚Ç¨ / kg</p>
    </div>
    
    <div class="product-card">
      <h3>Getrocknete Tomaten</h3>
      <img src="Getrocknete Tomaten.jpg" alt="Getrocknete Tomaten" />
      <p>4,50 ‚Ç¨</p>
    </div>
    
    <div class="product-card">
      <h3>Auberginen</h3>
      <img src="Auberginen.jpg" alt="Auberginen" />
      <p>3,99 ‚Ç¨ / kg</p>
    </div>
    
    <div class="product-card">
      <h3>Fenchel</h3>
      <img src="Fenchel.jpg" alt="Fenchel" />
      <p>2,99 ‚Ç¨ / kg</p>
    </div>
    
    <div class="product-card">
      <h3>Artischocken</h3>
      <img src="Artischocken.jpg" alt="Artischocken" />
      <p>1,00‚Äì1,20 ‚Ç¨ / St√ºck</p>
    </div>
    
    <div class="product-card">
      <h3>Tropea Zwiebeln</h3>
      <img src="Tropea Zwiebel.jpg" alt="Tropea Zwiebeln" />
      <p>6,00 ‚Ç¨ / Bund</p>
    </div>
    
    <div class="product-card">
      <h3>Wei√üe Zwiebel</h3>
      <img src="Wei√ü Zwiebel.jpg" alt="Wei√üe Zwiebel" />
      <p>3,00 ‚Ç¨ / kg</p>
    </div>
    
    <div class="product-card">
      <h3>Riesen Zwiebel (Giaratana)</h3>
      <img src="Giaratana.jpg" alt="Riesen Zwiebel (Giaratana)" />
      <p>4,00 ‚Ç¨ / kg</p>
    </div>
    
    <div class="product-card">
      <h3>Spitz Paprika</h3>
      <img src="Spitz Paprika.jpg" alt="Spitz Paprika" />
      <p>2,99 ‚Ç¨ / kg</p>
    </div>
    
    <div class="product-card">
      <h3>Paprika (normal)</h3>
      <img src="Paprika (Normal).jpg" alt="Paprika (Normal)" />
      <p>3,99 ‚Ç¨ / kg</p>
    </div>
    
    <div class="product-card">
      <h3>Lila Blumenkohl</h3>
      <img src="Lila Blumenkohl.jpg" alt="Lila Blumenkohl" />
      <p>Preis variabel</p>
    </div>
    
    <div class="product-card">
      <h3>St√§ngelkohl</h3>
      <img src="St√§ngelkohl.jpg" alt="St√§ngelkohl" />
      <p>Preis variabel</p>
    </div>
    
    <div class="product-card">
      <h3>Oliven√∂l</h3>
      <img src="Oliven √ñl.jpg" alt="Oliven √ñl" />
      <p>18,00 ‚Ç¨ / L</p>
    </div>
  </div>
</section>

          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    &copy; 2025 Oro di Sicilia. Alle Rechte vorbehalten. <br>
    <small><em>Siamo un'azienda a conduzione familiare. Parliamo anche italiano!</em></small>
    <p style="margin-top: 0.5rem;">
      üìß E-Mail: <a href="mailto:orodisicilia0@gmail.com" style="color: white; text-decoration: underline;">orodisicilia0@gmail.com</a><br>
      ‚òéÔ∏è Telefon: <a href="tel:+4915731156957" style="color: white; text-decoration: underline;">+4915731156957</a>
    </p>
  </footer>
